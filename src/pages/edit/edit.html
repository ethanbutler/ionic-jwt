<ion-header>
  <ion-navbar>
    <ion-title>Edit profile</ion-title>
    <button ion-button [disabled]="!doPasswordsMatch" (click)="onSubmit($event)">Save</button><!-- TODO: add POST functionality -->
  </ion-navbar>
</ion-header>
<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label>Location Settings</ion-label>
      <ion-toggle></ion-toggle><!-- TODO: add location services opt in/out -->
    </ion-item>
    <ion-item>
      <ion-label>Push notifications</ion-label>
      <ion-toggle></ion-toggle><!-- TODO: how are push notifications being used? -->
    </ion-item>
  </ion-list>
  <avatar-upload></avatar-upload>
  <p *ngIf="success">Information updated!</p>
  <p *ngIf="err">{{err}}</p>
  <ion-list>
    <ion-item>
      <ion-label>Name</ion-label>
      <ion-input type="text" value="{{credentials.name}}" [ngModel]="name" (ngModelChange)="onChange($event, 'name')"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Username</ion-label>
      <ion-input type="text" value={{credentials.username}} [ngModel]="username" (ngModelChange)="onChange($event, 'username')"></ion-input>
    </ion-item>
  </ion-list>
  <h2>Private information</h2>
  <ion-list>
    <ion-item>
      <ion-label>Email</ion-label>
      <ion-input type="email" value="{{credentials.email}}" [ngModel]="email" (ngModelChange)="onChange($event, 'email')"></ion-input>
    </ion-item>
    <p *ngIf="!doPasswordsMatch">Passwords do not match.</p>
    <ion-item>
      <ion-label>Change Password</ion-label>
      <ion-input type="password" [ngModel]="passwordOriginal" (ngModelChange)="onPasswordChange($event, 'original')"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Confirm Password</ion-label>
      <ion-input type="password" [ngModel]="passwordConfirmation" (ngModelChange)="onPasswordChange($event, 'confirmation')"></ion-input>
    </ion-item>
  </ion-list>
</ion-content>
